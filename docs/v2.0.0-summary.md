# LionCC v2.0.0 å®Œæˆæ€»ç»“

## é¡¹ç›®æ¦‚è¿°

LionCC æ˜¯ä¸€ä¸ªäº¤äº’å¼å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºå¿«é€Ÿé…ç½® OpenClaw çš„ API æä¾›å•†ã€‚æœ¬æ¬¡ v2.0.0 ç‰ˆæœ¬å®Œæˆäº†é‡å¤§æ›´æ–°å’Œé—®é¢˜ä¿®å¤ã€‚

## å®Œæˆçš„å·¥ä½œ

### 1. æ ¸å¿ƒé—®é¢˜ä¿®å¤ âœ…

#### é—®é¢˜ï¼šOpenClaw é…ç½®åæ— å“åº”
- **ç—‡çŠ¶**ï¼šTUI æ˜¾ç¤º `(no output)`ï¼Œagent è¿è¡Œä½†æ²¡æœ‰ API è°ƒç”¨
- **æ ¹æœ¬åŸå› **ï¼šbaseUrl é…ç½®åŒ…å« `/v1`ï¼Œå¯¼è‡´æœ€ç»ˆ URL å˜æˆ `/v1/v1/messages`ï¼ˆ404 é”™è¯¯ï¼‰
- **è§£å†³æ–¹æ¡ˆ**ï¼š
  - ä¿®æ”¹æ‰€æœ‰ endpoint é…ç½®ï¼Œå»æ‰ `/v1` åç¼€
  - VibeCoding: `https://vibecodingapi.ai/v1` â†’ `https://vibecodingapi.ai`
  - Anthropic: `https://api.anthropic.com/v1` â†’ `https://api.anthropic.com`
  - OpenRouter: `https://openrouter.ai/api/v1` â†’ `https://openrouter.ai/api`

#### ä¿®å¤ä½ç½®
- `bin/lioncc.js` ç¬¬ 19 è¡Œï¼šé»˜è®¤ apiEndpoint
- `bin/lioncc.js` ç¬¬ 301-305 è¡Œï¼šæœåŠ¡å•† endpoint æ˜ å°„

### 2. å·¥å…·ä¼˜åŒ– âœ…

#### Banner æ›´æ–°
- ä» "OpenClaw é…ç½®å·¥å…·" æ”¹ä¸º "LIONCC.AI"
- ä½¿ç”¨ä¸“ä¸šçš„ ASCII è‰ºæœ¯å­—
- æ›´å¥½çš„å“ç‰Œè¯†åˆ«åº¦

#### é»˜è®¤é€‰é¡¹ä¼˜åŒ–
- ä¸»èœå•é»˜è®¤é€‰æ‹© "ğŸš€ é…ç½® OpenClaw"
- æœåŠ¡å•†é»˜è®¤é€‰æ‹© VibeCoding
- æ¨¡å‹é€‰æ‹©é»˜è®¤ "ä½¿ç”¨æ¨èæ¨¡å‹"
- æ‰€æœ‰ç¡®è®¤æç¤ºé»˜è®¤ Yesï¼ˆå±é™©æ“ä½œé™¤å¤–ï¼‰
- æ”¯æŒå¿«é€Ÿé…ç½®ï¼šè¿ç»­æŒ‰å›è½¦å³å¯å®Œæˆ

#### é…ç½®æ ¼å¼ä¼˜åŒ–
- ä½¿ç”¨ OpenClaw 2026.2.1 æ ‡å‡†æ ¼å¼
- å®Œæ•´çš„ `models.providers` ç»“æ„
- è‡ªåŠ¨åˆ é™¤æ—§çš„ `anthropic` å­—æ®µ
- ç”Ÿæˆå®Œæ•´çš„æ¨¡å‹é…ç½®ï¼ˆcontextWindowã€maxTokensã€cost ç­‰ï¼‰
- è‡ªåŠ¨ç”Ÿæˆ gateway é…ç½®å’Œ token

#### è¡Œå°¾ç¬¦ä¿®å¤
- ä¿®å¤ Windows CRLF å¯¼è‡´çš„ `node\r: No such file or directory` é”™è¯¯
- ä½¿ç”¨ `sed` è½¬æ¢ä¸º LF è¡Œå°¾ç¬¦

### 3. æ–‡æ¡£å®Œå–„ âœ…

#### æ–°å¢æ–‡æ¡£

1. **æ•…éšœæ’æŸ¥æ–‡æ¡£** (`docs/troubleshooting.md`)
   - é—®é¢˜æè¿°å’Œç—‡çŠ¶
   - æ ¹æœ¬åŸå› åˆ†æ
   - è¯¦ç»†çš„åˆ†æè¿‡ç¨‹
   - å®Œæ•´çš„è§£å†³æ–¹æ¡ˆ
   - é…ç½®è¦ç‚¹è¯´æ˜
   - å¸¸è§é”™è¯¯åˆ—è¡¨
   - è°ƒè¯•æŠ€å·§
   - åç»­æ”¹è¿›è®¡åˆ’

2. **å¿«é€Ÿå‚è€ƒæ–‡æ¡£** (`docs/quick-reference.md`)
   - ä¸€é”®é…ç½®æŒ‡å—
   - é…ç½®è¦ç‚¹ï¼ˆbaseUrl æ­£ç¡®/é”™è¯¯ç¤ºä¾‹ï¼‰
   - æ”¯æŒçš„æœåŠ¡å•†åˆ—è¡¨
   - å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥
   - æ•…éšœæ’æŸ¥å¿«é€ŸæŒ‡å—
   - å®Œæ•´é…ç½®ç¤ºä¾‹
   - éªŒè¯é…ç½®æ–¹æ³•

3. **æ›´æ–°æ—¥å¿—** (`CHANGELOG.md`)
   - è¯¦ç»†çš„ç‰ˆæœ¬æ›´æ–°è®°å½•
   - é—®é¢˜ä¿®å¤è¯´æ˜
   - æ–°å¢åŠŸèƒ½åˆ—è¡¨
   - æ–‡æ¡£æ›´æ–°è®°å½•
   - æœªæ¥è®¡åˆ’

#### æ›´æ–°æ–‡æ¡£

1. **README.md**
   - æ·»åŠ  baseUrl é…ç½®è¯´æ˜å’Œè­¦å‘Š
   - æ›´æ–°é…ç½®ç¤ºä¾‹ï¼ˆä½¿ç”¨æ­£ç¡®çš„æ ¼å¼ï¼‰
   - æ·»åŠ æ•…éšœæ’æŸ¥é“¾æ¥
   - æ›´æ–°å¸¸è§é—®é¢˜
   - å®Œå–„æ›´æ–°æ—¥å¿—

### 4. é…ç½®éªŒè¯ âœ…

#### æµ‹è¯•ç»“æœ
```bash
# æµ‹è¯•å‘½ä»¤
openclaw agent --local --message "ä½ å¥½" --session-id "test" --json

# æˆåŠŸå“åº”
{
  "payloads": [{
    "text": "ä½ å¥½ï¼ğŸ‘‹\n\næˆ‘åˆšåˆšå¯åŠ¨..."
  }],
  "meta": {
    "durationMs": 7389,
    "agentMeta": {
      "provider": "VibeCoding",
      "model": "claude-opus-4-5-20251101",
      "usage": {
        "input": 32,
        "output": 123,
        "cacheRead": 14479,
        "cacheWrite": 798
      }
    }
  }
}
```

#### éªŒè¯é¡¹ç›®
- âœ… API è°ƒç”¨æˆåŠŸ
- âœ… ä½¿ç”¨æ­£ç¡®çš„æä¾›å•†ï¼ˆVibeCodingï¼‰
- âœ… è¿”å›å®Œæ•´å“åº”
- âœ… Token ä½¿ç”¨ç»Ÿè®¡æ­£å¸¸
- âœ… TUI æ­£å¸¸å·¥ä½œ

## æŠ€æœ¯ç»†èŠ‚

### é…ç½®æ ¼å¼å¯¹æ¯”

#### âŒ é”™è¯¯é…ç½®ï¼ˆv1.0.0ï¼‰
```json
{
  "anthropic": {
    "apiKey": "sk-xxx",
    "baseURL": "https://vibecodingapi.ai/v1"
  }
}
```
**é—®é¢˜**ï¼š
- ä½¿ç”¨æ—§çš„ `anthropic` é¡¶å±‚å­—æ®µï¼ˆOpenClaw 2026.2.1 ä¸æ”¯æŒï¼‰
- baseURL åŒ…å« `/v1`ï¼Œå¯¼è‡´è·¯å¾„é‡å¤

#### âœ… æ­£ç¡®é…ç½®ï¼ˆv2.0.0ï¼‰
```json
{
  "models": {
    "mode": "merge",
    "providers": {
      "VibeCoding": {
        "baseUrl": "https://vibecodingapi.ai",
        "apiKey": "sk-xxx",
        "auth": "api-key",
        "api": "anthropic-messages",
        "authHeader": false,
        "models": [...]
      }
    }
  },
  "agents": {
    "defaults": {
      "model": {
        "primary": "VibeCoding/claude-opus-4-5-20251101",
        "fallbacks": ["VibeCoding/claude-opus-4-5-20251101"]
      }
    }
  }
}
```

### API è°ƒç”¨æµç¨‹

1. **ç”¨æˆ·å‘é€æ¶ˆæ¯** â†’ TUI
2. **TUI è¿æ¥** â†’ Gateway (ws://127.0.0.1:18789)
3. **Gateway è¯»å–é…ç½®** â†’ `~/.openclaw/openclaw.json`
4. **æ„å»º API è¯·æ±‚**ï¼š
   - baseUrl: `https://vibecodingapi.ai`
   - è‡ªåŠ¨æ·»åŠ è·¯å¾„: `/v1/messages`
   - æœ€ç»ˆ URL: `https://vibecodingapi.ai/v1/messages` âœ…
5. **å‘é€è¯·æ±‚** â†’ VibeCoding API
6. **è¿”å›å“åº”** â†’ Gateway â†’ TUI â†’ ç”¨æˆ·

### å…³é”®ä»£ç ä¿®æ”¹

#### 1. é»˜è®¤ endpointï¼ˆç¬¬ 19 è¡Œï¼‰
```javascript
// Before
apiEndpoint: 'https://vibecodingapi.ai/v1',

// After
apiEndpoint: 'https://vibecodingapi.ai',
```

#### 2. æœåŠ¡å•†æ˜ å°„ï¼ˆç¬¬ 301-305 è¡Œï¼‰
```javascript
// Before
const endpoints = {
  vibecoding: 'https://vibecodingapi.ai/v1',
  anthropic: 'https://api.anthropic.com/v1',
  openrouter: 'https://openrouter.ai/api/v1',
};

// After
const endpoints = {
  vibecoding: 'https://vibecodingapi.ai',
  anthropic: 'https://api.anthropic.com',
  openrouter: 'https://openrouter.ai/api',
};
```

#### 3. é…ç½®ç”Ÿæˆï¼ˆç¬¬ 168-233 è¡Œï¼‰
```javascript
// ä½¿ç”¨ OpenClaw 2026.2.1 çš„é…ç½®æ ¼å¼
const newConfig = {
  models: {
    mode: 'merge',
    providers: {
      [providerName]: {
        baseUrl: this.config.apiEndpoint,  // ä¸å¸¦ /v1
        apiKey: this.config.apiKey,
        auth: 'api-key',
        api: 'anthropic-messages',
        authHeader: false,
        models: [...]
      }
    }
  },
  agents: {
    defaults: {
      model: {
        primary: `${providerName}/${modelId}`,
        fallbacks: [`${providerName}/${modelId}`]
      }
    }
  }
};

// åˆ é™¤æ—§æ ¼å¼çš„é…ç½®
delete newConfig.anthropic;
```

## é¡¹ç›®ç»“æ„

```
lioncc/
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ lioncc.js              # ä¸»ç¨‹åºï¼ˆå·²æ›´æ–°ï¼‰
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ troubleshooting.md     # æ•…éšœæ’æŸ¥æ–‡æ¡£ï¼ˆæ–°å¢ï¼‰
â”‚   â””â”€â”€ quick-reference.md     # å¿«é€Ÿå‚è€ƒï¼ˆæ–°å¢ï¼‰
â”œâ”€â”€ CHANGELOG.md               # æ›´æ–°æ—¥å¿—ï¼ˆæ–°å¢ï¼‰
â”œâ”€â”€ README.md                  # é¡¹ç›®è¯´æ˜ï¼ˆå·²æ›´æ–°ï¼‰
â””â”€â”€ package.json               # åŒ…é…ç½®
```

## ä½¿ç”¨æŒ‡å—

### å®‰è£…
```bash
npm link
```

### é…ç½®
```bash
lioncc
```

### éªŒè¯
```bash
# æµ‹è¯• API
openclaw agent --local --message "Hello" --session-id "test" --json

# å¯åŠ¨ TUI
openclaw tui
```

## åç»­è®¡åˆ’

### çŸ­æœŸï¼ˆv2.1.0ï¼‰
- [ ] æ·»åŠ  API è¿æ¥æµ‹è¯•åŠŸèƒ½
- [ ] é…ç½®å¯¼å…¥/å¯¼å‡º
- [ ] æ”¹è¿›é”™è¯¯æç¤ºä¿¡æ¯
- [ ] æ·»åŠ é…ç½®éªŒè¯

### ä¸­æœŸï¼ˆv2.2.0ï¼‰
- [ ] è‡ªåŠ¨æ£€æµ‹é…ç½®é—®é¢˜
- [ ] æ™ºèƒ½é…ç½®å»ºè®®
- [ ] é…ç½®æ¨¡æ¿åº“
- [ ] æ€§èƒ½ä¼˜åŒ–

### é•¿æœŸï¼ˆv3.0.0ï¼‰
- [ ] å›¾å½¢åŒ–é…ç½®ç•Œé¢
- [ ] é…ç½®åŒæ­¥åŠŸèƒ½
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] å¤šè¯­è¨€æ”¯æŒ

## æ€»ç»“

### æˆæœ
- âœ… ä¿®å¤äº†å…³é”®çš„ baseUrl é…ç½®é—®é¢˜
- âœ… ä¼˜åŒ–äº†ç”¨æˆ·ä½“éªŒï¼ˆé»˜è®¤é€‰é¡¹ã€å¿«é€Ÿé…ç½®ï¼‰
- âœ… å®Œå–„äº†æ–‡æ¡£ï¼ˆæ•…éšœæ’æŸ¥ã€å¿«é€Ÿå‚è€ƒã€æ›´æ–°æ—¥å¿—ï¼‰
- âœ… éªŒè¯äº†é…ç½®çš„æ­£ç¡®æ€§
- âœ… OpenClaw ç°åœ¨å¯ä»¥æ­£å¸¸å·¥ä½œ

### å½±å“
- ç”¨æˆ·å¯ä»¥å¿«é€Ÿé…ç½® OpenClaw
- é¿å…äº†å¸¸è§çš„é…ç½®é”™è¯¯
- æä¾›äº†å®Œæ•´çš„æ•…éšœæ’æŸ¥æŒ‡å—
- ä¸ºåç»­æ”¹è¿›å¥ å®šäº†åŸºç¡€

### ç»éªŒæ•™è®­
1. **API è·¯å¾„æ‹¼æ¥**ï¼šéœ€è¦æ˜ç¡® baseUrl æ˜¯å¦åŒ…å«ç‰ˆæœ¬å·
2. **é…ç½®æ ¼å¼**ï¼šä¸åŒç‰ˆæœ¬çš„ OpenClaw ä½¿ç”¨ä¸åŒçš„é…ç½®æ ¼å¼
3. **é”™è¯¯è¯Šæ–­**ï¼šè¯¦ç»†çš„æ—¥å¿—å’Œæµ‹è¯•å‘½ä»¤å¾ˆé‡è¦
4. **æ–‡æ¡£å®Œå–„**ï¼šå¥½çš„æ–‡æ¡£å¯ä»¥å¤§å¤§å‡å°‘ç”¨æˆ·çš„å›°æƒ‘

---

**ç‰ˆæœ¬**: v2.0.0
**æ—¥æœŸ**: 2026-02-03
**ä½œè€…**: å‡Œä¸€
**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶éªŒè¯
